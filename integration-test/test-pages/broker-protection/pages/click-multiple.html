<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Broker Protection</title>
</head>
<body>
    <div class="result">
        <div class="name">John Doe</div>
        <div class="age">32</div>
        <div class="locations" data-id="1">
            <span>New York, NY</span>
            <span>Los Angeles, CA</span>
            <a href="#" class="view-more">View More</a>
        </div>
    </div>
    <div class="result">
        <div class="name">Jane Doe</div>
        <div class="age">32</div>
        <div class="locations" data-id="2">
            <span>Chicago, IL</span>
            <span>San Francisco, CA</span>
            <a href="#" class="view-more">View More</a>
        </div>
    </div>
    <script>
        const locations = {
            1: ['Dallas, TX', 'Miami, FL'],
            2: ['Houston, TX', 'San Jose, CA']
        };

        document.querySelectorAll('.view-more').forEach(viewMore => 
            viewMore.addEventListener('click', function(e) {
                e.preventDefault();
                const id = this.parentNode.getAttribute('data-id');

                locations[id].forEach(location => {
                    const newLocation = document.createElement('span');
                    newLocation.textContent = location;
                    this.parentNode.insertBefore(newLocation, this);
                });
                window.location.hash ? window.location.hash += '-' + id : window.location.hash = id;
                this.removeEventListener('click', arguments.callee);
            })
        );
    </script>
</body>
</html>